{
  "Comment": "FitWithPari CloudFront Distribution - Optimized for Real-time Video Streaming and Zoom SDK",
  "DefaultRootObject": "index.html",
  "Origins": [
    {
      "Id": "amplify-origin",
      "DomainName": "your-amplify-app.amplifyapp.com",
      "CustomOriginConfig": {
        "HTTPPort": 443,
        "HTTPSPort": 443,
        "OriginProtocolPolicy": "https-only",
        "OriginSslProtocols": {
          "Quantity": 2,
          "Items": ["TLSv1.2", "TLSv1.3"]
        },
        "OriginReadTimeout": 30,
        "OriginKeepaliveTimeout": 5
      },
      "OriginRequestPolicyId": "88a5eaf4-2fd4-4709-b370-b4c650ea3fcf",
      "ResponseHeadersPolicyId": "67f7725c-6f97-4210-82d7-5512b31e9d03"
    },
    {
      "Id": "lambda-api-origin",
      "DomainName": "your-lambda-function-url.lambda-url.us-east-1.on.aws",
      "CustomOriginConfig": {
        "HTTPPort": 443,
        "HTTPSPort": 443,
        "OriginProtocolPolicy": "https-only",
        "OriginSslProtocols": {
          "Quantity": 2,
          "Items": ["TLSv1.2", "TLSv1.3"]
        },
        "OriginReadTimeout": 30,
        "OriginKeepaliveTimeout": 5
      }
    }
  ],
  "DefaultCacheBehavior": {
    "TargetOriginId": "amplify-origin",
    "ViewerProtocolPolicy": "redirect-to-https",
    "CachePolicyId": "4135ea2d-6df8-44a3-9df3-4b5a84be39ad",
    "OriginRequestPolicyId": "88a5eaf4-2fd4-4709-b370-b4c650ea3fcf",
    "ResponseHeadersPolicyId": "67f7725c-6f97-4210-82d7-5512b31e9d03",
    "Compress": true,
    "AllowedMethods": {
      "Quantity": 7,
      "Items": ["GET", "HEAD", "OPTIONS", "PUT", "POST", "PATCH", "DELETE"],
      "CachedMethods": {
        "Quantity": 2,
        "Items": ["GET", "HEAD"]
      }
    }
  },
  "CacheBehaviors": [
    {
      "PathPattern": "/api/zoom/*",
      "TargetOriginId": "lambda-api-origin",
      "ViewerProtocolPolicy": "https-only",
      "CachePolicyId": "4135ea2d-6df8-44a3-9df3-4b5a84be39ad",
      "OriginRequestPolicyId": "88a5eaf4-2fd4-4709-b370-b4c650ea3fcf",
      "ResponseHeadersPolicyId": "5cc3b908-e619-4b99-88e5-2cf7f45965bd",
      "Compress": false,
      "AllowedMethods": {
        "Quantity": 7,
        "Items": ["GET", "HEAD", "OPTIONS", "PUT", "POST", "PATCH", "DELETE"]
      }
    },
    {
      "PathPattern": "/health",
      "TargetOriginId": "lambda-api-origin",
      "ViewerProtocolPolicy": "https-only",
      "CachePolicyId": "4135ea2d-6df8-44a3-9df3-4b5a84be39ad",
      "Compress": true,
      "AllowedMethods": {
        "Quantity": 2,
        "Items": ["GET", "HEAD"]
      }
    },
    {
      "PathPattern": "/assets/*",
      "TargetOriginId": "amplify-origin",
      "ViewerProtocolPolicy": "https-only",
      "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
      "Compress": true,
      "AllowedMethods": {
        "Quantity": 2,
        "Items": ["GET", "HEAD"]
      }
    },
    {
      "PathPattern": "*.js",
      "TargetOriginId": "amplify-origin",
      "ViewerProtocolPolicy": "https-only",
      "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
      "Compress": true,
      "AllowedMethods": {
        "Quantity": 2,
        "Items": ["GET", "HEAD"]
      }
    },
    {
      "PathPattern": "*.css",
      "TargetOriginId": "amplify-origin",
      "ViewerProtocolPolicy": "https-only",
      "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
      "Compress": true,
      "AllowedMethods": {
        "Quantity": 2,
        "Items": ["GET", "HEAD"]
      }
    },
    {
      "PathPattern": "/video-streaming/*",
      "TargetOriginId": "amplify-origin",
      "ViewerProtocolPolicy": "https-only",
      "CachePolicyId": "b2884449-e4de-46a7-ac36-70bc7f1ddd6d",
      "Compress": false,
      "SmoothStreaming": true,
      "AllowedMethods": {
        "Quantity": 3,
        "Items": ["GET", "HEAD", "OPTIONS"]
      }
    }
  ],
  "CustomErrorResponses": [
    {
      "ErrorCode": 403,
      "ResponsePagePath": "/index.html",
      "ResponseCode": "200",
      "ErrorCachingMinTTL": 300
    },
    {
      "ErrorCode": 404,
      "ResponsePagePath": "/index.html",
      "ResponseCode": "200",
      "ErrorCachingMinTTL": 300
    }
  ],
  "PriceClass": "PriceClass_All",
  "Enabled": true,
  "HttpVersion": "http2and3",
  "IsIPV6Enabled": true,
  "WebACLId": "optional-web-acl-arn",
  "Staging": false,
  "ContinuousDeploymentPolicyId": ""
}